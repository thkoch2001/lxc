Author: Daniel Baumann <daniel.baumann@progress-technologies.net>
Description:
 Using debian essential stuff rather than openssl to generate random mac address
 in lxc-clone.

diff -Naurp lxc.orig/src/lxc/lxc-clone.in lxc/src/lxc/lxc-clone.in
--- lxc.orig/src/lxc/lxc-clone.in
+++ lxc/src/lxc/lxc-clone.in
@@ -282,7 +282,7 @@ mv ${c} ${c}.old
 (
 while read line; do
     if echo $line | grep -q -w '^lxc.network.hwaddr'; then
-        echo "lxc.network.hwaddr= 00:16:3e:$(openssl rand -hex 3| sed 's/\(..\)/\1:/g; s/.$//')"
+        echo "lxc.network.hwaddr= 00:16:3e$(dd bs=1 count=3 if=/dev/urandom 2> /dev/null | hexdump -v -e '/1 ":%02X"')"
     else
         echo "$line"
     fi
